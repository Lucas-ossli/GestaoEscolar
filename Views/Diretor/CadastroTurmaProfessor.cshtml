@using Models;
@model TurmaProfessor2

@{
    ViewData["Title"] = "Cadastro de Turma Professor";
}

@{
    Layout= "/Views/Diretor/_Layout.cshtml";
}

<div class="container">

    <h1>Vinculo de Turma/Disciplina por Professor</h1>
    <form method="POST" class="form-group">
        
        <select class="form-select form-select" aria-label="Default select example" name="CdProfessor">
            @{
                foreach (var item in Model.Professores)
                {
                    <option value="@item.CdCargo">@item.Nome</option>
                }
            }
        </select><br>

        <select class="form-select form-select" aria-label="Default select example" name="CdDisciplina">
            @{
                foreach (var item in Model.Turmas)
                {
                    <option value="@item.CdTurma">@item.NomeDaTurma</option>
                }
            }
        </select><br>

        <select class="form-select form-select" aria-label="Default select example" name="CdTurma">
            @{
                foreach (var item in Model.Disciplinas)
                {
                    <option value="@item.CdDisciplina">@item.NomeDisciplina</option>
                }
            }
        </select><br>

        <select class="form-select form-select" aria-label="Default select example" name="Ano">
            @{
                for (int i = 1980 ; i < 2101 ; i++)
                {
                    string year = i.ToString() + "0101";
                    DateTime Ano = DateTime.ParseExact(year,"yyyyMMdd", null);
                    <option value="@Ano">@i</option>
                }
            }
        </select><br>

         <button class="btn btn-primary" style="margin-top: 20px">Enviar</button>
    </form>

    <br>
    <br>
    <table class="table table-bordered">
        <tr>
            <td>Professor</td>
            <td>Turma</td>
            <td>Disciplina</td>
            <td>Aulas</td>
            <td>Alunos</td>
        </tr>
        @{
            if(Model.TurmaProfessores.Count > 0){
                foreach(var item in Model.TurmaProfessores)
                {
                    <tr>
                        <td>@item.NomeProfessor</td>
                        <td>@item.NomeDaTurma</td>
                        <td>@item.NomeDaDisciplina</td>
                        <td><a class="btn btn-primary" href="/Professor/Aulas/@item.CdTurmaProfessor">Aulas</a></td>
                        <td><a class="btn btn-primary" href="/Professor/Alunos/@item.CdTurmaProfessor">Alunos</a></td>
                    
                    </tr>

                }
            }
            
        }

    </table>


</div>